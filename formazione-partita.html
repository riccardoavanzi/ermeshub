<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/styles/main.css">
    <title>Formazione partita</title>
</head>
<body>
    <div class="page-container abstract">
        <div class="page-content blurred centered">
            <!-- HEADER -->
            <div class="header-container">
                <div class="header-content">
                    <div class="logo">
                        ErmesHub
                    </div>
                    <div class="menu">
                        <ul>
                            <li><a href="hub.html">Hub</a></li>
                            <li><a href="competizioni.html">Competizioni</a></li>
                            <li><a href="formazioni.html">Formazioni</a></li>
                            <li><a href="pagelle.html">Pagelle</a></li>
                            <li><a href="scouting.html">Scouting</a></li>
                            <li><button class="baselinebtn">logout</button></li>
                        </ul>
                    </div>
                </div>
            </div>
            <!-- FORMAZIONE -->
            <div class="formazione-container">
                <!-- MATCH-HEADER -->
                <div class="match-header-container">
                    <div class="competition">
                        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQNbnCGdtHO203OHmuKsyCZlYP1d2FXNi_19Q&s" alt="">
                    </div>
                    <div class="match-header-content">
                        <div class="home-team-container">
                            <div class="team-name">GENOA</div>
                            <div class="logo">
                                <img src="/assets/loghi-squadre/genoa.png" alt="">
                            </div>
                        </div>
                        <div class="vs"> VS </div>
                        <div class="away-team-container">
                            <div class="logo">
                                <img src="/assets/loghi-squadre/inter.png" alt="">
                            </div>
                            <div class="team-name">INTER</div>
                        </div>
                    </div>
                    <div class="details">
                        <div class="stadium">Stadio Luigi Ferraris</div>
                        <div>-</div>
                        <div class="schedule">18:30</div>
                    </div>
                </div>
                <!-- FORMAZIONE-SECTION -->
                <div class="formazione-content">
                    <div class="formazione-list-container">
                        <div class="formazione-list-content">
                            <div class="formazione-list-header">
                                <div class="logo-inter">
                                    <img src="/assets/loghi-squadre/inter.png" alt="" width="36px">
                                </div>
                                <div class="team-name">FC INTERNAZIONALE</div>
                            </div>
                            <div class="formazione-list-rooster">
                                <div class="players-container">
                                    <div class="players-content">
                                        <!-- PLAYER -->
                                        <div class="player">
                                            <div class="player-img-name">
                                                <img src="/assets/players/inter/sommer.png" alt="">
                                                <div class="player-name">Yann Sommer</div>
                                            </div>
                                            <div class="player-details">
                                                <div class="player-number">1</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="formazione-display-container">
                        <div class="formazione-display-content">
                            <div class="canvas-wrapper">
                                <canvas id="pitch" width="350" height="540" ></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<!-- CANVAS PITCH -->
<script>
    const canvas = document.getElementById('pitch');
        const ctx = canvas.getContext('2d');

        const pitchWidth = canvas.width;
        const pitchHeight = canvas.height;

        // Calculate the scale based on the pitch size
        const scaleX = pitchWidth / 68; // Width is now based on 68 meters (real pitch width)
        const scaleY = pitchHeight / 105; // Height is now based on 105 meters (real pitch length)

        // External Boundary (Touchlines and Goal lines)
        ctx.strokeStyle = "lightgray";
        ctx.lineWidth = 2;
        ctx.strokeRect(0, 0, pitchWidth, pitchHeight);

        // Center Circle
        ctx.beginPath();
        ctx.arc(pitchWidth / 2, pitchHeight / 2, 9.15 * scaleY, 0, 2 * Math.PI);
        ctx.stroke();

        // Center Line
        ctx.beginPath();
        ctx.moveTo(0, pitchHeight / 2);
        ctx.lineTo(pitchWidth, pitchHeight / 2);
        ctx.stroke();

        // Penalty Area (Top)
        ctx.strokeRect((pitchWidth - 40.3 * scaleX) / 2, 0, 40.3 * scaleX, 16.5 * scaleY);

        // Penalty Area (Bottom)
        ctx.strokeRect((pitchWidth - 40.3 * scaleX) / 2, pitchHeight - 16.5 * scaleY, 40.3 * scaleX, 16.5 * scaleY);

        // Goal Area (Top)
        ctx.strokeRect((pitchWidth - 18.32 * scaleX) / 2, 0, 18.32 * scaleX, 5.5 * scaleY);

        // Goal Area (Bottom)
        ctx.strokeRect((pitchWidth - 18.32 * scaleX) / 2, pitchHeight - 5.5 * scaleY, 18.32 * scaleX, 5.5 * scaleY);

        // Goals (Top)
        ctx.strokeRect((pitchWidth - 7.32 * scaleX) / 2, -1.5 * scaleY, 7.32 * scaleX, 1.5 * scaleY);

        // Goals (Bottom)
        ctx.strokeRect((pitchWidth - 7.32 * scaleX) / 2, pitchHeight, 7.32 * scaleX, 1.5 * scaleY);

        // Penalty Spot (Top)
        ctx.beginPath();
        ctx.arc(pitchWidth / 2, 11 * scaleY, 0.2 * scaleY, 0, 2 * Math.PI);
        ctx.fillStyle = "#FFFFFF";
        ctx.fill();

        // Penalty Spot (Bottom)
        ctx.beginPath();
        ctx.arc(pitchWidth / 2, pitchHeight - 11 * scaleY, 0.2 * scaleY, 0, 2 * Math.PI);
        ctx.fill();

        // Draw center spot
        ctx.beginPath();
        ctx.arc(pitchWidth / 2, pitchHeight / 2, 0.2 * scaleY, 0, 2 * Math.PI);
        ctx.fill();

        // Draw corner arcs
        function drawCornerArc(x, y, startAngle, endAngle) {
            ctx.beginPath();
            ctx.arc(x, y, 1 * scaleY, startAngle, endAngle);
            ctx.stroke();
        }

        drawCornerArc(0, 0, 0, 0.5 * Math.PI);
        drawCornerArc(pitchWidth, 0, 0.5 * Math.PI, Math.PI);
        drawCornerArc(0, pitchHeight, 1.5 * Math.PI, 2 * Math.PI);
        drawCornerArc(pitchWidth, pitchHeight, Math.PI, 1.5 * Math.PI);

</script>
</body>
</html>